{% extends 'admin/base.html.twig' %}

{% block title %}{{ 'trans.Admin panel' | trans }}{% endblock %}

{% block body %}
<div class="mt-3 mb-2">
    <h1>{{ 'trans.Admin Dashboard' | trans }}</h1>

    <div class="row no-gutters tile_count">
        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-user"></i> {{ 'trans.Pending for activation' | trans }}</span>
            <div class="count">
                {{ adminStats.toActivateCount | thousandsSeparate }}
                <a href="{{ path('app_admin_listing_activate_list') }}" class="btn btn-primary">
                    {{ 'trans.Activate' | trans }}
                </a>
                <div>
                    <form
                            method="post"
                            action="{{ path('app_admin_listing_action_redirect_next_waiting_activation') }}"
                            class="d-inline"
                    >
                        <input type="hidden" name="_method" value="PATCH">
                        <input type="hidden" name="_token" value="{{ csrf_token('adminRedirectNextWaitingActivation') }}">
                        <button class="btn btn-outline-dark mb-1">{{ 'trans.First waiting for Activation' | trans }}</button>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-user"></i> {{ 'trans.Added last 12h' | trans }}</span>
            <div class="count">{{ adminStats.addedLastHours(12) | thousandsSeparate }}</div>
        </div>
        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-user"></i> {{ 'trans.Added last 24h' | trans }}</span>
            <div class="count">{{ adminStats.addedLastHours(24) | thousandsSeparate }}</div>
        </div>
        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-user"></i> {{ 'trans.Added last 7 days' | trans }}</span>
            <div class="count">{{ adminStats.addedLastHours(24*7) | thousandsSeparate }}</div>
        </div>
        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-user"></i> {{ 'trans.Added last 30 days' | trans }}</span>
            <div class="count">{{ adminStats.addedLastHours(24*30) | thousandsSeparate }}</div>
        </div>
        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-user"></i> {{ 'trans.Added last year' | trans }}</span>
            <div class="count">{{ adminStats.addedLastHours(24*365) | thousandsSeparate }}</div>
        </div>
        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-user"></i> {{ 'trans.Active listings count' | trans }}</span>
            <div class="count">{{ adminStats.activeListingsCount | thousandsSeparate }}</div>
        </div>
        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-user"></i> {{ 'trans.All listings count' | trans }}</span>
            <div class="count">{{ adminStats.allListingsCount | thousandsSeparate }}</div>
        </div>
        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-user"></i> {{ 'trans.Users count' | trans }}</span>
            <div class="count">{{ adminStats.userCount | thousandsSeparate }}</div>
        </div>
        <div class="col-md-4 col-sm-8 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-user"></i> {{ 'trans.Listings views' | trans }}</span>
            <div class="count">{{ adminStats.listingViewsCount | thousandsSeparate }}</div>
        </div>
        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
            <span class="count_top"><i class="fa fa-user"></i> {{ 'trans.Featured listings' | trans }}</span>
            <div class="count">{{ adminStats.featuredListingsCount | thousandsSeparate }}</div>
        </div>
    </div>
</div>

    <div class="mb-2">
        {% for healthCheckProblem in healthCheckProblemList  %}
            <div class="alert alert-danger">{{ healthCheckProblem }}</div>
        {% endfor %}
    </div>
{% endblock %}
