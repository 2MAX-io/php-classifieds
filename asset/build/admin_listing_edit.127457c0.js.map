{"version":3,"file":"admin_listing_edit.127457c0.js","mappings":"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","sources":["webpack://symfony/./assets/function/textareaAutosize.js","webpack://symfony/./assets/module/confirm.js","webpack://symfony/./assets/module/leaflet/leaflet_marker_icon.js","webpack://symfony/./assets/module/leaflet/map.js","webpack://symfony/./assets/public/listing_edit/listing-data.js","webpack://symfony/./assets/public/listing_edit/listing-edit-map.js","webpack://symfony/./node_modules/core-js/internals/array-for-each.js","webpack://symfony/./node_modules/core-js/internals/array-method-is-strict.js","webpack://symfony/./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack://symfony/./node_modules/core-js/internals/not-a-regexp.js","webpack://symfony/./node_modules/core-js/internals/number-parse-float.js","webpack://symfony/./node_modules/core-js/internals/string-trim-forced.js","webpack://symfony/./node_modules/core-js/modules/es.array.find.js","webpack://symfony/./node_modules/core-js/modules/es.array.for-each.js","webpack://symfony/./node_modules/core-js/modules/es.function.name.js","webpack://symfony/./node_modules/core-js/modules/es.parse-float.js","webpack://symfony/./node_modules/core-js/modules/es.string.starts-with.js","webpack://symfony/./node_modules/core-js/modules/es.string.trim.js","webpack://symfony/./node_modules/core-js/modules/web.dom-collections.for-each.js"],"sourcesContent":["\"use strict\";\n\nimport $ from \"jquery\";\n\n$.fn.textareaAutosize = function () {\n    let autosize = function ($textarea) {\n        let maxHeight = $textarea.css(\"max-height\");\n        let scrollHeight = $textarea[0].scrollHeight;\n        if (scrollHeight >= maxHeight) {\n            return;\n        }\n        let additionalHeight = -(\n            parseFloat($textarea.css(\"padding-top\")) + parseFloat($textarea.css(\"padding-bottom\"))\n        );\n        $textarea.height(scrollHeight + additionalHeight);\n    };\n\n    return this.each(function () {\n        let $textarea = $(this);\n        $textarea.height($textarea.height());\n\n        autosize($textarea);\n\n        $textarea.on(\"input\", function () {\n            autosize($textarea);\n        });\n    });\n};\n\n$(\".js__textareaAutosize\").textareaAutosize();\n","\"use strict\";\n\nimport $ from \"jquery\";\nimport Translator from \"~/module/Translator\";\n\n$(\".js__confirm\").on(\"click\", function () {\n    let $button = $(this);\n    let translate = function (text) {\n        if (text.startsWith(\"trans.\")) {\n            return Translator.trans(text);\n        }\n\n        return text;\n    };\n\n    return confirm(translate($button.data(\"confirm-message\")));\n});\n","\"use strict\";\n\nimport L from \"leaflet\";\nimport mapMarkerIcon from \"~/img/map/map-marker-icon.svg\";\n\nlet markerIcon = L.icon({\n    iconUrl: mapMarkerIcon,\n    iconSize: [22, 22],\n    iconAnchor: [11, 11],\n    popupAnchor: [0, -4],\n    shadowSize: false,\n    shadowAnchor: false,\n});\n\nexport default markerIcon;\n","\"use strict\";\n\nimport \"~/module/leaflet/leaflet\";\nimport dataForJs from \"~/function/dataForJs\";\nimport ParamEnum from \"~/enum/ParamEnum\";\nimport Translator from \"~/module/Translator\";\nimport markerIcon from \"~/module/leaflet/leaflet_marker_icon\";\n\nexport default class Map {\n    mapElement;\n    leafletMap;\n    mapCenterLatLng;\n    mapZoom;\n\n    constructor() {\n        this.mapCenterLatLng = this.getDefaultMapCenterLatLng();\n        this.mapZoom = dataForJs[ParamEnum.MAP_DEFAULT_ZOOM];\n    }\n\n    createLeafletMap(mapElement) {\n        this.mapElement = mapElement;\n        this.leafletMap = L.map(this.mapElement, {\n            tap: false, // ref https://github.com/Leaflet/Leaflet/issues/7255\n            zoomControl: false,\n            attributionControl: false,\n        });\n        this.leafletMap.setView(this.mapCenterLatLng, this.mapZoom);\n\n        L.control\n            .zoom({\n                zoomInTitle: Translator.trans(\"trans.Zoom in\"),\n                zoomOutTitle: Translator.trans(\"trans.Zoom out\"),\n            })\n            .addTo(this.leafletMap);\n\n        // noinspection JSUnusedGlobalSymbols\n        L.control\n            .locate({\n                position: \"topright\",\n                drawMarker: false,\n                drawCircle: false,\n                returnToPrevBounds: true,\n                locateOptions: {\n                    maxZoom: 15,\n                },\n                icon: \"svg svg-location\",\n                iconLoading: \"svg svg-spinner svg-pulse\",\n                strings: {\n                    title: Translator.trans(\"trans.Show me where I am\"),\n                    metersUnit: Translator.trans(\"trans.meters\"),\n                    feetUnit: Translator.trans(\"trans.feet\"),\n                    popup: Translator.trans(\"trans.You are within {distance} {unit} from this point\"),\n                    outsideMapBoundsMsg: Translator.trans(\"trans.You seem located outside the boundaries of the map\"),\n                },\n                onLocationError: () => {\n                    alert(Translator.trans(\"trans.Your web browser denied access to geolocation\"));\n                },\n            })\n            .addTo(this.leafletMap);\n\n        this.leafletMap.addControl(\n            new L.Control.Fullscreen({\n                title: {\n                    false: Translator.trans(\"trans.View Fullscreen\"),\n                    true: Translator.trans(\"trans.Exit Fullscreen\"),\n                },\n            })\n        );\n\n        L.control.attribution({ prefix: false }).addTo(this.leafletMap);\n\n        L.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n            attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n        }).addTo(this.leafletMap);\n\n        // L.tileLayer(Routing.generate(\"app_map_image_cache\", {\n        //     z: 1,\n        //     x: 2,\n        //     y: 3,\n        // }).replace('1_2_3.png', '{z}_{x}_{y}.png'), {\n        //     attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n        // }).addTo(this.leafletMap);\n\n        return this.leafletMap;\n    }\n\n    addMarker(latLng) {\n        let marker = new L.marker(latLng, { icon: markerIcon });\n        marker.addTo(this.leafletMap);\n\n        return marker;\n    }\n\n    getDefaultMapCenterLatLng() {\n        if (!this.haveLocationCoordinates()) {\n            return new L.LatLng(dataForJs[ParamEnum.MAP_DEFAULT_LATITUDE], dataForJs[ParamEnum.MAP_DEFAULT_LONGITUDE]);\n        }\n\n        let latitude = dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LATITUDE];\n        let longitude = dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LONGITUDE];\n\n        return new L.LatLng(latitude, longitude);\n    }\n\n    haveLocationCoordinates() {\n        return (\n            dataForJs[ParamEnum.MAP_LOCATION_COORDINATES] &&\n            dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LONGITUDE] !== null &&\n            dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LATITUDE] !== null\n        );\n    }\n}\n","\"use strict\";\n\nimport $ from \"jquery\";\nimport ParamEnum from \"~/enum/ParamEnum\";\nimport dataForJs from \"~/function/dataForJs\";\nimport Routing from \"~/module/Routing\";\n\nclass ListingData {\n    category = null;\n    formValues = [];\n    $customFieldListWrapper = $(\".js__customFieldList\");\n    $formCategory = $(\".js__formCategory\");\n    $packageListWrapper = $(\".js__packageList\");\n\n    loadFromBackend() {\n        let listingId = dataForJs[ParamEnum.LISTING_ID];\n        let categoryId = listingData.getCategoryFromSelect();\n        if (!categoryId) {\n            return;\n        }\n        listingData.category = categoryId;\n        let request = {};\n        request[ParamEnum.LISTING_ID] = listingId;\n        request[ParamEnum.CATEGORY_ID] = categoryId;\n        $.post(Routing.generate(\"app_listing_data\", request), function (response) {\n            listingData.$customFieldListWrapper.html(response[ParamEnum.CUSTOM_FIELD]);\n            listingData.$packageListWrapper.html(response[ParamEnum.PACKAGE_LIST]);\n            listingData.restoreUserEnteredValues();\n        });\n    }\n\n    /**\n     * prevent loss of user entered custom field values when changing categories\n     */\n    restoreUserEnteredValues() {\n        let $customFieldInputs = listingData.$customFieldListWrapper.find($('[name^=\"listing[customFieldList]\"]'));\n        $customFieldInputs.each(function () {\n            let $customFieldInput = $(this);\n            let previousValue = listingData.formValues[$customFieldInput.attr(\"name\")];\n            if (previousValue && previousValue.value.trim() !== \"\") {\n                $customFieldInput.val(previousValue.value);\n            }\n        });\n    }\n\n    getFormValues() {\n        let formValues = [];\n        listingData.$formCategory\n            .parents(\"form\")\n            .serializeArray()\n            .forEach(function (el) {\n                formValues[el.name] = el;\n            });\n\n        return formValues;\n    }\n\n    getCategoryFromSelect() {\n        return parseInt(listingData.$formCategory.val()) || null;\n    }\n}\n\nlet listingData = new ListingData();\nlet customFieldsCount = listingData.$customFieldListWrapper.find($(\".form-group\")).length;\nif (customFieldsCount < 1) {\n    listingData.loadFromBackend();\n}\n\nlistingData.$formCategory.on(\"change\", function () {\n    if (listingData.category === listingData.getCategoryFromSelect()) {\n        return;\n    }\n\n    listingData.formValues = $.extend({}, listingData.formValues, listingData.getFormValues());\n    listingData.loadFromBackend();\n});\n","\"use strict\";\n\nimport $ from \"jquery\";\nimport ParamEnum from \"~/enum/ParamEnum\";\nimport dataForJs from \"~/function/dataForJs\";\nimport Map from \"~/module/leaflet/map\";\nimport L from \"leaflet\";\n\nclass ListingEditMap {\n    /**\n     * @type {Map}\n     */\n    map = null;\n\n    /**\n     * @type {L.map}\n     */\n    leafletMap = null;\n    latLng = null;\n    currentLocationMarker = null;\n\n    init() {\n        let displayMapOnInit = document.querySelector(\".js__listingEditMapEnabled\");\n        if (displayMapOnInit) {\n            listingEditMap.displayMap();\n        }\n\n        $(\".js__addLocationToTheMapButton\").on(\"click\", function () {\n            listingEditMap.displayMap();\n        });\n    }\n\n    displayMap() {\n        $(\".js__listingEditLocationMap\").show();\n        $(\".js__addLocationToTheMapButton\").hide();\n\n        let mapElement = document.querySelector(\".js__listingEditLocationMap\");\n        listingEditMap.map = new Map();\n        listingEditMap.leafletMap = listingEditMap.map.createLeafletMap(mapElement);\n\n        listingEditMap.leafletMap.on(\"click\", listingEditMap.onMapClick);\n        listingEditMap.addMarkerWithCurrentLocation();\n    }\n\n    addMarkerWithCurrentLocation() {\n        if (!listingEditMap.haveLocationCoordinates()) {\n            return;\n        }\n\n        let latitude = dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LATITUDE];\n        let longitude = dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LONGITUDE];\n        listingEditMap.latLng = new L.LatLng(latitude, longitude);\n        listingEditMap.addMarker(listingEditMap.latLng);\n    }\n\n    onMapClick(event) {\n        listingEditMap.addMarker(event.latlng);\n        listingEditMap.updateFormWithLocationCoordinates(listingEditMap.latLng);\n    }\n\n    addMarker(latLng) {\n        if (listingEditMap.currentLocationMarker !== null) {\n            listingEditMap.leafletMap.removeLayer(listingEditMap.currentLocationMarker);\n            listingEditMap.currentLocationMarker = null;\n        }\n\n        // noinspection JSPotentiallyInvalidConstructorUsage\n        listingEditMap.currentLocationMarker = listingEditMap.map.addMarker(latLng);\n        listingEditMap.latLng = latLng;\n        listingEditMap.onMarkerClickRemoveMarker(listingEditMap.currentLocationMarker);\n    }\n\n    onMarkerClickRemoveMarker(marker) {\n        marker.on(\"click\", function () {\n            listingEditMap.leafletMap.removeLayer(marker);\n            listingEditMap.updateFormWithLocationCoordinates(null);\n        });\n    }\n\n    getMapDefaultLatLng() {\n        if (!listingEditMap.haveLocationCoordinates()) {\n            return new L.LatLng(dataForJs[ParamEnum.MAP_DEFAULT_LATITUDE], dataForJs[ParamEnum.MAP_DEFAULT_LONGITUDE]);\n        }\n\n        let latitude = dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LATITUDE];\n        let longitude = dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LONGITUDE];\n\n        return new L.LatLng(latitude, longitude);\n    }\n\n    haveLocationCoordinates() {\n        return (\n            dataForJs[ParamEnum.MAP_LOCATION_COORDINATES] &&\n            dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LONGITUDE] !== null &&\n            dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LATITUDE] !== null\n        );\n    }\n\n    updateFormWithLocationCoordinates(latLng) {\n        let $formLatitude = $(\".js__locationLatitude\");\n        let $formLongitude = $(\".js__locationLongitude\");\n\n        if (latLng === null) {\n            $formLatitude.val(null);\n            $formLongitude.val(null);\n\n            return;\n        }\n\n        $formLatitude.val(latLng.lat);\n        $formLongitude.val(latLng.lng);\n    }\n}\n\nlet listingEditMap = new ListingEditMap();\n\nlistingEditMap.init();\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","var global = require('../internals/global');\nvar isRegExp = require('../internals/is-regexp');\n\nvar TypeError = global.TypeError;\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toString = require('../internals/to-string');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar charAt = uncurryThis(''.charAt);\nvar n$ParseFloat = global.parseFloat;\nvar Symbol = global.Symbol;\nvar ITERATOR = Symbol && Symbol.iterator;\nvar FORCED = 1 / n$ParseFloat(whitespaces + '-0') !== -Infinity\n  // MS Edge 18- broken with boxed symbols\n  || (ITERATOR && !fails(function () { n$ParseFloat(Object(ITERATOR)); }));\n\n// `parseFloat` method\n// https://tc39.es/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(toString(string));\n  var result = n$ParseFloat(trimmedString);\n  return result === 0 && charAt(trimmedString, 0) == '-' ? -0 : result;\n} : n$ParseFloat;\n","var PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]()\n      || non[METHOD_NAME]() !== non\n      || (PROPER_FUNCTION_NAME && whitespaces[METHOD_NAME].name !== METHOD_NAME);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar $parseFloat = require('../internals/number-parse-float');\n\n// `parseFloat` method\n// https://tc39.es/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != $parseFloat }, {\n  parseFloat: $parseFloat\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar toString = require('../internals/to-string');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\n// eslint-disable-next-line es/no-string-prototype-startswith -- safe\nvar un$StartsWith = uncurryThis(''.startsWith);\nvar stringSlice = uncurryThis(''.slice);\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = toString(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = toString(searchString);\n    return un$StartsWith\n      ? un$StartsWith(that, search, index)\n      : stringSlice(that, index, index + search.length) === search;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  if (DOMIterables[COLLECTION_NAME]) {\n    handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n  }\n}\n\nhandlePrototype(DOMTokenListPrototype);\n"],"names":["$","autosize","$textarea","maxHeight","css","scrollHeight","additionalHeight","parseFloat","height","this","each","on","textareaAutosize","text","$button","confirm","data","startsWith","Translator","markerIcon","L","iconUrl","mapMarkerIcon","iconSize","iconAnchor","popupAnchor","shadowSize","shadowAnchor","Map","mapCenterLatLng","getDefaultMapCenterLatLng","mapZoom","dataForJs","ParamEnum","mapElement","leafletMap","map","tap","zoomControl","attributionControl","setView","control","zoom","zoomInTitle","zoomOutTitle","addTo","locate","position","drawMarker","drawCircle","returnToPrevBounds","locateOptions","maxZoom","icon","iconLoading","strings","title","metersUnit","feetUnit","popup","outsideMapBoundsMsg","onLocationError","alert","addControl","Control","Fullscreen","false","true","attribution","prefix","tileLayer","latLng","marker","haveLocationCoordinates","LatLng","latitude","longitude","listingData","ListingData","listingId","categoryId","getCategoryFromSelect","category","request","Routing","response","$customFieldListWrapper","html","$packageListWrapper","restoreUserEnteredValues","find","$customFieldInput","previousValue","formValues","attr","value","trim","val","$formCategory","parents","serializeArray","forEach","el","name","parseInt","length","loadFromBackend","getFormValues","listingEditMap","ListingEditMap","document","querySelector","displayMap","show","hide","createLeafletMap","onMapClick","addMarkerWithCurrentLocation","addMarker","event","latlng","updateFormWithLocationCoordinates","currentLocationMarker","removeLayer","onMarkerClickRemoveMarker","$formLatitude","$formLongitude","lat","lng","init","$forEach","STRICT_METHOD","arrayMethodIsStrict","module","exports","callbackfn","arguments","undefined","fails","METHOD_NAME","argument","method","call","MATCH","wellKnownSymbol","regexp","error1","error2","global","isRegExp","TypeError","it","uncurryThis","toString","whitespaces","charAt","n$ParseFloat","Symbol","ITERATOR","iterator","FORCED","Infinity","Object","string","trimmedString","result","PROPER_FUNCTION_NAME","$find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","DESCRIPTORS","FUNCTION_NAME_EXISTS","defineProperty","FunctionPrototype","Function","prototype","functionToString","nameRE","regExpExec","exec","configurable","get","error","$parseFloat","descriptor","getOwnPropertyDescriptor","toLength","notARegExp","requireObjectCoercible","correctIsRegExpLogic","IS_PURE","un$StartsWith","stringSlice","slice","min","Math","CORRECT_IS_REGEXP_LOGIC","String","writable","searchString","that","index","search","$trim","forcedStringTrimMethod","DOMIterables","DOMTokenListPrototype","createNonEnumerableProperty","handlePrototype","CollectionPrototype","COLLECTION_NAME"],"sourceRoot":""}