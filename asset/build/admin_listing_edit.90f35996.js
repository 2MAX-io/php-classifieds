(self.webpackChunksymfony=self.webpackChunksymfony||[]).push([[519],{5520:function(t,n,r){"use strict";r(86993),r(16521),r(88303),r(38231)},88303:function(t,n,r){"use strict";r(54678);var e=r(19755),a=r.n(e);a().fn.textareaAutosize=function(){var t=function(t){var n=t.css("max-height"),r=t[0].scrollHeight;if(!(r>=n)){var e=-(parseFloat(t.css("padding-top"))+parseFloat(t.css("padding-bottom")));t.height(r+e)}};return this.each((function(){var n=a()(this);n.height(n.height()),t(n),n.on("input",(function(){t(n)}))}))},a()(".js__textareaAutosize").textareaAutosize()},38231:function(t,n,r){"use strict";r(23157);var e=r(19755),a=r.n(e),o=r(19422);a()(".js__confirm").on("click",(function(){var t,n=a()(this);return confirm((t=n.data("confirm-message")).startsWith("trans.")?o.Z.trans(t):t)}))},86993:function(t,n,r){"use strict";r(69826),r(73210),r(89554),r(54747),r(68309),r(91058);var e=r(19755),a=r.n(e),o=r(79075),i=r(70471),c=r(49117),u={category:null,formValues:[]};u.$customFieldListWrapper=a()(".js__customFieldList"),u.loadFromBackend=function(){var t=i.ZP[o.Z.LISTING_ID],n=u.getCategoryFromSelect();if(n){u.category=n;var r={listingId:t,categoryId:n};a().get(c.Z.generate("app_listing_get_custom_fields",r),(function(t){u.$customFieldListWrapper.html(t),u.restoreUserEnteredValues()}))}},u.restoreUserEnteredValues=function(){u.$customFieldListWrapper.find(a()('[name^="listing[customFieldList]"]')).each((function(){var t=a()(this),n=u.formValues[t.attr("name")];n&&""!==n.value.trim()&&t.val(n.value)}))},u.getFormValues=function(){var t=[];return a()(".js__formCategory").parents("form").serializeArray().forEach((function(n){t[n.name]=n})),t},a()(".js__formCategory").on("change",(function(){u.category!==u.getCategoryFromSelect()&&(u.formValues=a().extend({},u.formValues,u.getFormValues()),u.loadFromBackend())})),u.getCategoryFromSelect=function(){return parseInt(a()(".js__formCategory").val())||null},u.$customFieldListWrapper.find(a()(".form-group")).length<1&&u.loadFromBackend()},16521:function(t,n,r){"use strict";r(21249);var e=r(19755),a=r.n(e),o=r(79075),i=r(70471),c=r(90041),u={};(u={map:null,leafletMap:null,latLng:null,currentLocationMarker:null}).init=function(){document.querySelector(".js__listingEditMapEnabled")&&u.displayMap(),a()(".js__addLocationToTheMapButton").on("click",(function(){u.displayMap()}))},u.displayMap=function(){a()(".js__listingEditLocationMap").show(),a()(".js__addLocationToTheMapButton").hide();var t=document.querySelector(".js__listingEditLocationMap");u.map=new c.Z,u.leafletMap=u.map.createLeafletMap(t),u.leafletMap.on("click",u.onMapClick),u.addMarkerWithCurrentLocation()},u.addMarkerWithCurrentLocation=function(){if(u.haveLocationCoordinates()){var t=i.ZP[o.Z.MAP_LOCATION_COORDINATES][o.Z.LATITUDE],n=i.ZP[o.Z.MAP_LOCATION_COORDINATES][o.Z.LONGITUDE];u.latLng=new L.LatLng(t,n),u.addMarker(u.latLng)}},u.onMapClick=function(t){u.addMarker(t.latlng),u.updateFormWithLocationCoordinates(u.latLng)},u.addMarker=function(t){null!==u.currentLocationMarker&&(u.leafletMap.removeLayer(u.currentLocationMarker),u.currentLocationMarker=null),u.currentLocationMarker=u.map.addMarker(t),u.latLng=t,u.onMarkerClickRemoveMarker(u.currentLocationMarker)},u.onMarkerClickRemoveMarker=function(t){t.on("click",(function(){u.leafletMap.removeLayer(t),u.updateFormWithLocationCoordinates(null)}))},u.getMapDefaultLatLng=function(){if(!u.haveLocationCoordinates())return new L.LatLng(i.ZP[o.Z.MAP_DEFAULT_LATITUDE],i.ZP[o.Z.MAP_DEFAULT_LONGITUDE]);var t=i.ZP[o.Z.MAP_LOCATION_COORDINATES][o.Z.LATITUDE],n=i.ZP[o.Z.MAP_LOCATION_COORDINATES][o.Z.LONGITUDE];return new L.LatLng(t,n)},u.haveLocationCoordinates=function(){return i.ZP[o.Z.MAP_LOCATION_COORDINATES]&&null!==i.ZP[o.Z.MAP_LOCATION_COORDINATES][o.Z.LONGITUDE]&&null!==i.ZP[o.Z.MAP_LOCATION_COORDINATES][o.Z.LATITUDE]},u.updateFormWithLocationCoordinates=function(t){var n=a()(".js__locationLatitude"),r=a()(".js__locationLongitude");if(null===t)return n.val(null),void r.val(null);n.val(t.lat),r.val(t.lng)},u.init()},84964:function(t,n,r){var e=r(5112)("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(r){try{return n[e]=!1,"/./"[t](n)}catch(t){}}return!1}},3929:function(t,n,r){var e=r(47850);t.exports=function(t){if(e(t))throw TypeError("The method doesn't accept regular expressions");return t}},2814:function(t,n,r){var e=r(17854),a=r(53111).trim,o=r(81361),i=e.parseFloat,c=1/i(o+"-0")!=-1/0;t.exports=c?function(t){var n=a(String(t)),r=i(n);return 0===r&&"-"==n.charAt(0)?-0:r}:i},76091:function(t,n,r){var e=r(47293),a=r(81361);t.exports=function(t){return e((function(){return!!a[t]()||"​᠎"!="​᠎"[t]()||a[t].name!==t}))}},69826:function(t,n,r){"use strict";var e=r(82109),a=r(42092).find,o=r(51223),i="find",c=!0;i in[]&&Array(1).find((function(){c=!1})),e({target:"Array",proto:!0,forced:c},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),o(i)},68309:function(t,n,r){var e=r(19781),a=r(3070).f,o=Function.prototype,i=o.toString,c=/^\s*function ([^ (]*)/,u="name";e&&!(u in o)&&a(o,u,{configurable:!0,get:function(){try{return i.call(this).match(c)[1]}catch(t){return""}}})},54678:function(t,n,r){var e=r(82109),a=r(2814);e({global:!0,forced:parseFloat!=a},{parseFloat:a})},23157:function(t,n,r){"use strict";var e,a=r(82109),o=r(31236).f,i=r(17466),c=r(3929),u=r(84488),l=r(84964),s=r(31913),f="".startsWith,d=Math.min,g=l("startsWith");a({target:"String",proto:!0,forced:!!(s||g||(e=o(String.prototype,"startsWith"),!e||e.writable))&&!g},{startsWith:function(t){var n=String(u(this));c(t);var r=i(d(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return f?f.call(n,e,r):n.slice(r,r+e.length)===e}})},73210:function(t,n,r){"use strict";var e=r(82109),a=r(53111).trim;e({target:"String",proto:!0,forced:r(76091)("trim")},{trim:function(){return a(this)}})}},0,[[5520,3666,2109,9755,4501,1582,9335,9422,2018]]]);