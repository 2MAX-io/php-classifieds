(self.webpackChunksymfony=self.webpackChunksymfony||[]).push([[519],{51683:function(t){"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjUxMnB0IiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjUxMnB0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Im0yNTYgMGMtMTQxLjE2NDA2MiAwLTI1NiAxMTQuODM1OTM4LTI1NiAyNTZzMTE0LjgzNTkzOCAyNTYgMjU2IDI1NiAyNTYtMTE0LjgzNTkzOCAyNTYtMjU2LTExNC44MzU5MzgtMjU2LTI1Ni0yNTZ6bTAgMCIgZmlsbD0iI2Y0NDMzNiIvPjxwYXRoIGQ9Im0zNDEuMzMyMDMxIDI1NmMwIDQ3LjEyODkwNi0zOC4yMDMxMjUgODUuMzMyMDMxLTg1LjMzMjAzMSA4NS4zMzIwMzFzLTg1LjMzMjAzMS0zOC4yMDMxMjUtODUuMzMyMDMxLTg1LjMzMjAzMSAzOC4yMDMxMjUtODUuMzMyMDMxIDg1LjMzMjAzMS04NS4zMzIwMzEgODUuMzMyMDMxIDM4LjIwMzEyNSA4NS4zMzIwMzEgODUuMzMyMDMxem0wIDAiIGZpbGw9IiNmYWZhZmEiLz48cGF0aCBkPSJtMjU2IDUxMmMtMTQxLjE2NDA2MiAwLTI1Ni0xMTQuODM1OTM4LTI1Ni0yNTZzMTE0LjgzNTkzOC0yNTYgMjU2LTI1NiAyNTYgMTE0LjgzNTkzOCAyNTYgMjU2LTExNC44MzU5MzggMjU2LTI1NiAyNTZ6bTAtNDgwYy0xMjMuNTE5NTMxIDAtMjI0IDEwMC40ODA0NjktMjI0IDIyNHMxMDAuNDgwNDY5IDIyNCAyMjQgMjI0IDIyNC0xMDAuNDgwNDY5IDIyNC0yMjQtMTAwLjQ4MDQ2OS0yMjQtMjI0LTIyNHptMCAwIi8+PHBhdGggZD0ibTI1NiAzNjIuNjY3OTY5Yy01OC44MTY0MDYgMC0xMDYuNjY3OTY5LTQ3Ljg1MTU2My0xMDYuNjY3OTY5LTEwNi42Njc5NjlzNDcuODUxNTYzLTEwNi42Njc5NjkgMTA2LjY2Nzk2OS0xMDYuNjY3OTY5IDEwNi42Njc5NjkgNDcuODUxNTYzIDEwNi42Njc5NjkgMTA2LjY2Nzk2OS00Ny44NTE1NjMgMTA2LjY2Nzk2OS0xMDYuNjY3OTY5IDEwNi42Njc5Njl6bTAtMTgxLjMzNTkzOGMtNDEuMTcxODc1IDAtNzQuNjY3OTY5IDMzLjQ5NjA5NC03NC42Njc5NjkgNzQuNjY3OTY5czMzLjQ5NjA5NCA3NC42Njc5NjkgNzQuNjY3OTY5IDc0LjY2Nzk2OSA3NC42Njc5NjktMzMuNDk2MDk0IDc0LjY2Nzk2OS03NC42Njc5NjktMzMuNDk2MDk0LTc0LjY2Nzk2OS03NC42Njc5NjktNzQuNjY3OTY5em0wIDAiLz48L3N2Zz4="},5520:function(t,e,n){"use strict";n(89143),n(52830),n(38565),n(38231)},38565:function(t,e,n){"use strict";n(54678);var r=n(19755),a=n.n(r);a().fn.textareaAutosize=function(){var t=function(t){var e=t.css("max-height"),n=t[0].scrollHeight;if(!(n>=e)){var r=-(parseFloat(t.css("padding-top"))+parseFloat(t.css("padding-bottom")));t.height(n+r)}};return this.each((function(){var e=a()(this);e.height(e.height()),t(e),e.on("input",(function(){t(e)}))}))},a()(".js__textareaAutosize").textareaAutosize()},38231:function(t,e,n){"use strict";n(23157);var r=n(19755),a=n.n(r),o=n(19422);a()(".js__confirm").on("click",(function(){var t,e=a()(this);return confirm((t=e.data("confirm-message")).startsWith("trans.")?o.Z.trans(t):t)}))},25437:function(t,e,n){"use strict";n(45243),n(52408),n(80687),n(88292)},17197:function(t,e,n){"use strict";var r=n(45243),a=n.n(r),o=n(51683),i=a().icon({iconUrl:o,iconSize:[22,22],iconAnchor:[11,11],popupAnchor:[0,-4],shadowSize:!1,shadowAnchor:!1});e.Z=i},90041:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});n(21249),n(25437);var r=n(70471),a=n(79075),o=n(19422),i=n(17197);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"mapElement",void 0),c(this,"leafletMap",void 0),c(this,"mapCenterLatLng",void 0),c(this,"mapZoom",void 0),this.mapCenterLatLng=this.getDefaultMapCenterLatLng(),this.mapZoom=r.ZP[a.Z.MAP_DEFAULT_ZOOM]}var e,n,l;return e=t,(n=[{key:"createLeafletMap",value:function(t){return this.mapElement=t,this.leafletMap=L.map(this.mapElement,{tap:!1,zoomControl:!1,attributionControl:!1}),this.leafletMap.setView(this.mapCenterLatLng,this.mapZoom),L.control.zoom({zoomInTitle:o.Z.trans("trans.Zoom in"),zoomOutTitle:o.Z.trans("trans.Zoom out")}).addTo(this.leafletMap),L.control.locate({position:"topright",drawMarker:!1,drawCircle:!1,returnToPrevBounds:!0,locateOptions:{maxZoom:15},icon:"svg svg-location",iconLoading:"svg svg-spinner svg-pulse",strings:{title:o.Z.trans("trans.Show me where I am"),metersUnit:o.Z.trans("trans.meters"),feetUnit:o.Z.trans("trans.feet"),popup:o.Z.trans("trans.You are within {distance} {unit} from this point"),outsideMapBoundsMsg:o.Z.trans("trans.You seem located outside the boundaries of the map")},onLocationError:function(){alert(o.Z.trans("trans.Your web browser denied access to geolocation"))}}).addTo(this.leafletMap),this.leafletMap.addControl(new L.Control.Fullscreen({title:{false:o.Z.trans("trans.View Fullscreen"),true:o.Z.trans("trans.Exit Fullscreen")}})),L.control.attribution({prefix:!1}).addTo(this.leafletMap),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.leafletMap),this.leafletMap}},{key:"addMarker",value:function(t){var e=new L.marker(t,{icon:i.Z});return e.addTo(this.leafletMap),e}},{key:"getDefaultMapCenterLatLng",value:function(){if(!this.haveLocationCoordinates())return new L.LatLng(r.ZP[a.Z.MAP_DEFAULT_LATITUDE],r.ZP[a.Z.MAP_DEFAULT_LONGITUDE]);var t=r.ZP[a.Z.MAP_LOCATION_COORDINATES][a.Z.LATITUDE],e=r.ZP[a.Z.MAP_LOCATION_COORDINATES][a.Z.LONGITUDE];return new L.LatLng(t,e)}},{key:"haveLocationCoordinates",value:function(){return r.ZP[a.Z.MAP_LOCATION_COORDINATES]&&null!==r.ZP[a.Z.MAP_LOCATION_COORDINATES][a.Z.LONGITUDE]&&null!==r.ZP[a.Z.MAP_LOCATION_COORDINATES][a.Z.LATITUDE]}}])&&u(e.prototype,n),l&&u(e,l),t}()},89143:function(t,e,n){"use strict";n(69826),n(73210),n(89554),n(54747),n(68309),n(91058);var r=n(19755),a=n.n(r),o=n(79075),i=n(70471),u=n(49117);function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"category",null),l(this,"formValues",[]),l(this,"$customFieldListWrapper",a()(".js__customFieldList")),l(this,"$formCategory",a()(".js__formCategory")),l(this,"$packageListWrapper",a()(".js__packageList"))}var e,n,r;return e=t,(n=[{key:"loadFromBackend",value:function(){var t=i.ZP[o.Z.LISTING_ID],e=s.getCategoryFromSelect();if(e){s.category=e;var n={};n[o.Z.LISTING_ID]=t,n[o.Z.CATEGORY_ID]=e,a().post(u.Z.generate("app_listing_data",n),(function(t){s.$customFieldListWrapper.html(t[o.Z.CUSTOM_FIELD]),s.$packageListWrapper.html(t[o.Z.PACKAGE_LIST]),s.restoreUserEnteredValues()}))}}},{key:"restoreUserEnteredValues",value:function(){s.$customFieldListWrapper.find(a()('[name^="listing[customFieldList]"]')).each((function(){var t=a()(this),e=s.formValues[t.attr("name")];e&&""!==e.value.trim()&&t.val(e.value)}))}},{key:"getFormValues",value:function(){var t=[];return s.$formCategory.parents("form").serializeArray().forEach((function(e){t[e.name]=e})),t}},{key:"getCategoryFromSelect",value:function(){return parseInt(s.$formCategory.val())||null}}])&&c(e.prototype,n),r&&c(e,r),t}());s.$customFieldListWrapper.find(a()(".form-group")).length<1&&s.loadFromBackend(),s.$formCategory.on("change",(function(){s.category!==s.getCategoryFromSelect()&&(s.formValues=a().extend({},s.formValues,s.getFormValues()),s.loadFromBackend())}))},52830:function(t,e,n){"use strict";n(21249);var r=n(19755),a=n.n(r),o=n(79075),i=n(70471),u=n(90041),c=n(45243),l=n.n(c);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,"map",null),M(this,"leafletMap",null),M(this,"latLng",null),M(this,"currentLocationMarker",null)}var e,n,r;return e=t,(n=[{key:"init",value:function(){document.querySelector(".js__listingEditMapEnabled")&&f.displayMap(),a()(".js__addLocationToTheMapButton").on("click",(function(){f.displayMap()}))}},{key:"displayMap",value:function(){a()(".js__listingEditLocationMap").show(),a()(".js__addLocationToTheMapButton").hide();var t=document.querySelector(".js__listingEditLocationMap");f.map=new u.Z,f.leafletMap=f.map.createLeafletMap(t),f.leafletMap.on("click",f.onMapClick),f.addMarkerWithCurrentLocation()}},{key:"addMarkerWithCurrentLocation",value:function(){if(f.haveLocationCoordinates()){var t=i.ZP[o.Z.MAP_LOCATION_COORDINATES][o.Z.LATITUDE],e=i.ZP[o.Z.MAP_LOCATION_COORDINATES][o.Z.LONGITUDE];f.latLng=new(l().LatLng)(t,e),f.addMarker(f.latLng)}}},{key:"onMapClick",value:function(t){f.addMarker(t.latlng),f.updateFormWithLocationCoordinates(f.latLng)}},{key:"addMarker",value:function(t){null!==f.currentLocationMarker&&(f.leafletMap.removeLayer(f.currentLocationMarker),f.currentLocationMarker=null),f.currentLocationMarker=f.map.addMarker(t),f.latLng=t,f.onMarkerClickRemoveMarker(f.currentLocationMarker)}},{key:"onMarkerClickRemoveMarker",value:function(t){t.on("click",(function(){f.leafletMap.removeLayer(t),f.updateFormWithLocationCoordinates(null)}))}},{key:"getMapDefaultLatLng",value:function(){if(!f.haveLocationCoordinates())return new(l().LatLng)(i.ZP[o.Z.MAP_DEFAULT_LATITUDE],i.ZP[o.Z.MAP_DEFAULT_LONGITUDE]);var t=i.ZP[o.Z.MAP_LOCATION_COORDINATES][o.Z.LATITUDE],e=i.ZP[o.Z.MAP_LOCATION_COORDINATES][o.Z.LONGITUDE];return new(l().LatLng)(t,e)}},{key:"haveLocationCoordinates",value:function(){return i.ZP[o.Z.MAP_LOCATION_COORDINATES]&&null!==i.ZP[o.Z.MAP_LOCATION_COORDINATES][o.Z.LONGITUDE]&&null!==i.ZP[o.Z.MAP_LOCATION_COORDINATES][o.Z.LATITUDE]}},{key:"updateFormWithLocationCoordinates",value:function(t){var e=a()(".js__locationLatitude"),n=a()(".js__locationLongitude");if(null===t)return e.val(null),void n.val(null);e.val(t.lat),n.val(t.lng)}}])&&s(e.prototype,n),r&&s(e,r),t}());f.init()},84964:function(t,e,n){var r=n(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},3929:function(t,e,n){var r=n(47850);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},2814:function(t,e,n){var r=n(17854),a=n(53111).trim,o=n(81361),i=r.parseFloat,u=1/i(o+"-0")!=-1/0;t.exports=u?function(t){var e=a(String(t)),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},76091:function(t,e,n){var r=n(47293),a=n(81361);t.exports=function(t){return r((function(){return!!a[t]()||"​᠎"!="​᠎"[t]()||a[t].name!==t}))}},69826:function(t,e,n){"use strict";var r=n(82109),a=n(42092).find,o=n(51223),i="find",u=!0;i in[]&&Array(1).find((function(){u=!1})),r({target:"Array",proto:!0,forced:u},{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),o(i)},68309:function(t,e,n){var r=n(19781),a=n(3070).f,o=Function.prototype,i=o.toString,u=/^\s*function ([^ (]*)/,c="name";r&&!(c in o)&&a(o,c,{configurable:!0,get:function(){try{return i.call(this).match(u)[1]}catch(t){return""}}})},54678:function(t,e,n){var r=n(82109),a=n(2814);r({global:!0,forced:parseFloat!=a},{parseFloat:a})},23157:function(t,e,n){"use strict";var r,a=n(82109),o=n(31236).f,i=n(17466),u=n(3929),c=n(84488),l=n(84964),s=n(31913),M="".startsWith,f=Math.min,L=l("startsWith");a({target:"String",proto:!0,forced:!!(s||L||(r=o(String.prototype,"startsWith"),!r||r.writable))&&!L},{startsWith:function(t){var e=String(c(this));u(t);var n=i(f(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return M?M.call(e,r,n):e.slice(n,n+r.length)===r}})},73210:function(t,e,n){"use strict";var r=n(82109),a=n(53111).trim;r({target:"String",proto:!0,forced:n(76091)("trim")},{trim:function(){return a(this)}})}},function(t){"use strict";t.O(0,[2109,9755,1399,5027,1582,9335,9422,9117],(function(){return e=5520,t(t.s=e);var e}));t.O()}]);
//# sourceMappingURL=admin_listing_edit.7cfbec21.js.map