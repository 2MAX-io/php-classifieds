{"version":3,"sources":["webpack://symfony/./assets/function/textareaAutosize.js","webpack://symfony/./assets/module/confirm.js","webpack://symfony/./assets/module/leaflet/leaflet_marker_icon.js","webpack://symfony/./assets/module/leaflet/map.js","webpack://symfony/./assets/public/listing_edit/listing-data.js","webpack://symfony/./assets/public/listing_edit/listing-edit-map.js","webpack://symfony/./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack://symfony/./node_modules/core-js/internals/not-a-regexp.js","webpack://symfony/./node_modules/core-js/internals/number-parse-float.js","webpack://symfony/./node_modules/core-js/internals/string-trim-forced.js","webpack://symfony/./node_modules/core-js/modules/es.array.find.js","webpack://symfony/./node_modules/core-js/modules/es.function.name.js","webpack://symfony/./node_modules/core-js/modules/es.parse-float.js","webpack://symfony/./node_modules/core-js/modules/es.string.starts-with.js","webpack://symfony/./node_modules/core-js/modules/es.string.trim.js"],"names":["$","autosize","$textarea","maxHeight","css","scrollHeight","additionalHeight","parseFloat","height","this","each","on","textareaAutosize","text","$button","confirm","data","startsWith","Translator","markerIcon","L","iconUrl","mapMarkerIcon","iconSize","iconAnchor","popupAnchor","shadowSize","shadowAnchor","Map","mapCenterLatLng","getDefaultMapCenterLatLng","mapZoom","dataForJs","ParamEnum","mapElement","leafletMap","map","tap","zoomControl","attributionControl","setView","control","zoom","zoomInTitle","zoomOutTitle","addTo","locate","position","drawMarker","drawCircle","returnToPrevBounds","locateOptions","maxZoom","icon","iconLoading","strings","title","metersUnit","feetUnit","popup","outsideMapBoundsMsg","onLocationError","alert","addControl","Control","Fullscreen","false","true","attribution","prefix","tileLayer","latLng","marker","haveLocationCoordinates","LatLng","latitude","longitude","listingData","listingId","categoryId","getCategoryFromSelect","category","request","Routing","response","$customFieldListWrapper","html","$packageListWrapper","restoreUserEnteredValues","find","$customFieldInput","previousValue","formValues","attr","value","trim","val","$formCategory","parents","serializeArray","forEach","el","name","parseInt","length","loadFromBackend","getFormValues","listingEditMap","document","querySelector","displayMap","show","hide","createLeafletMap","onMapClick","addMarkerWithCurrentLocation","addMarker","event","latlng","updateFormWithLocationCoordinates","currentLocationMarker","removeLayer","onMarkerClickRemoveMarker","$formLatitude","$formLongitude","lat","lng","init","MATCH","wellKnownSymbol","module","exports","METHOD_NAME","regexp","error1","error2","isRegExp","it","TypeError","global","whitespaces","$parseFloat","FORCED","Infinity","string","trimmedString","String","result","charAt","fails","$find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","callbackfn","arguments","undefined","DESCRIPTORS","defineProperty","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error","parseFloatImplementation","descriptor","getOwnPropertyDescriptor","toLength","notARegExp","requireObjectCoercible","correctIsRegExpLogic","IS_PURE","$startsWith","min","Math","CORRECT_IS_REGEXP_LOGIC","writable","searchString","that","index","search","slice","$trim","forcedStringTrimMethod"],"mappings":"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","file":"admin_listing_edit.7cfbec21.js","sourcesContent":["\"use strict\";\n\nimport $ from \"jquery\";\n\n$.fn.textareaAutosize = function () {\n    let autosize = function ($textarea) {\n        let maxHeight = $textarea.css(\"max-height\");\n        let scrollHeight = $textarea[0].scrollHeight;\n        if (scrollHeight >= maxHeight) {\n            return;\n        }\n        let additionalHeight = -(\n            parseFloat($textarea.css(\"padding-top\")) + parseFloat($textarea.css(\"padding-bottom\"))\n        );\n        $textarea.height(scrollHeight + additionalHeight);\n    };\n\n    return this.each(function () {\n        let $textarea = $(this);\n        $textarea.height($textarea.height());\n\n        autosize($textarea);\n\n        $textarea.on(\"input\", function () {\n            autosize($textarea);\n        });\n    });\n};\n\n$(\".js__textareaAutosize\").textareaAutosize();\n","\"use strict\";\n\nimport $ from \"jquery\";\nimport Translator from \"~/module/Translator\";\n\n$(\".js__confirm\").on(\"click\", function () {\n    let $button = $(this);\n    let translate = function (text) {\n        if (text.startsWith(\"trans.\")) {\n            return Translator.trans(text);\n        }\n\n        return text;\n    };\n\n    return confirm(translate($button.data(\"confirm-message\")));\n});\n","\"use strict\";\n\nimport L from \"leaflet\";\nimport mapMarkerIcon from \"~/img/map/map-marker-icon.svg\";\n\nlet markerIcon = L.icon({\n    iconUrl: mapMarkerIcon,\n    iconSize: [22, 22],\n    iconAnchor: [11, 11],\n    popupAnchor: [0, -4],\n    shadowSize: false,\n    shadowAnchor: false,\n});\n\nexport default markerIcon;\n","\"use strict\";\n\nimport \"~/module/leaflet/leaflet\";\nimport dataForJs from \"~/function/dataForJs\";\nimport ParamEnum from \"~/enum/ParamEnum\";\nimport Translator from \"~/module/Translator\";\nimport markerIcon from \"~/module/leaflet/leaflet_marker_icon\";\n\nexport default class Map {\n    mapElement;\n    leafletMap;\n    mapCenterLatLng;\n    mapZoom;\n\n    constructor() {\n        this.mapCenterLatLng = this.getDefaultMapCenterLatLng();\n        this.mapZoom = dataForJs[ParamEnum.MAP_DEFAULT_ZOOM];\n    }\n\n    createLeafletMap(mapElement) {\n        this.mapElement = mapElement;\n        this.leafletMap = L.map(this.mapElement, {\n            tap: false, // ref https://github.com/Leaflet/Leaflet/issues/7255\n            zoomControl: false,\n            attributionControl: false,\n        });\n        this.leafletMap.setView(this.mapCenterLatLng, this.mapZoom);\n\n        L.control\n            .zoom({\n                zoomInTitle: Translator.trans(\"trans.Zoom in\"),\n                zoomOutTitle: Translator.trans(\"trans.Zoom out\"),\n            })\n            .addTo(this.leafletMap);\n\n        // noinspection JSUnusedGlobalSymbols\n        L.control\n            .locate({\n                position: \"topright\",\n                drawMarker: false,\n                drawCircle: false,\n                returnToPrevBounds: true,\n                locateOptions: {\n                    maxZoom: 15,\n                },\n                icon: \"svg svg-location\",\n                iconLoading: \"svg svg-spinner svg-pulse\",\n                strings: {\n                    title: Translator.trans(\"trans.Show me where I am\"),\n                    metersUnit: Translator.trans(\"trans.meters\"),\n                    feetUnit: Translator.trans(\"trans.feet\"),\n                    popup: Translator.trans(\"trans.You are within {distance} {unit} from this point\"),\n                    outsideMapBoundsMsg: Translator.trans(\"trans.You seem located outside the boundaries of the map\"),\n                },\n                onLocationError: () => {\n                    alert(Translator.trans(\"trans.Your web browser denied access to geolocation\"));\n                },\n            })\n            .addTo(this.leafletMap);\n\n        this.leafletMap.addControl(\n            new L.Control.Fullscreen({\n                title: {\n                    false: Translator.trans(\"trans.View Fullscreen\"),\n                    true: Translator.trans(\"trans.Exit Fullscreen\"),\n                },\n            })\n        );\n\n        L.control.attribution({ prefix: false }).addTo(this.leafletMap);\n\n        L.tileLayer(\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\", {\n            attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n        }).addTo(this.leafletMap);\n\n        // L.tileLayer(Routing.generate(\"app_map_image_cache\", {\n        //     z: 1,\n        //     x: 2,\n        //     y: 3,\n        // }).replace('1_2_3.png', '{z}_{x}_{y}.png'), {\n        //     attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n        // }).addTo(this.leafletMap);\n\n        return this.leafletMap;\n    }\n\n    addMarker(latLng) {\n        let marker = new L.marker(latLng, { icon: markerIcon });\n        marker.addTo(this.leafletMap);\n\n        return marker;\n    }\n\n    getDefaultMapCenterLatLng() {\n        if (!this.haveLocationCoordinates()) {\n            return new L.LatLng(dataForJs[ParamEnum.MAP_DEFAULT_LATITUDE], dataForJs[ParamEnum.MAP_DEFAULT_LONGITUDE]);\n        }\n\n        let latitude = dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LATITUDE];\n        let longitude = dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LONGITUDE];\n\n        return new L.LatLng(latitude, longitude);\n    }\n\n    haveLocationCoordinates() {\n        return (\n            dataForJs[ParamEnum.MAP_LOCATION_COORDINATES] &&\n            dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LONGITUDE] !== null &&\n            dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LATITUDE] !== null\n        );\n    }\n}\n","\"use strict\";\n\nimport $ from \"jquery\";\nimport ParamEnum from \"~/enum/ParamEnum\";\nimport dataForJs from \"~/function/dataForJs\";\nimport Routing from \"~/module/Routing\";\n\nclass ListingData {\n    category = null;\n    formValues = [];\n    $customFieldListWrapper = $(\".js__customFieldList\");\n    $formCategory = $(\".js__formCategory\");\n    $packageListWrapper = $(\".js__packageList\");\n\n    loadFromBackend() {\n        let listingId = dataForJs[ParamEnum.LISTING_ID];\n        let categoryId = listingData.getCategoryFromSelect();\n        if (!categoryId) {\n            return;\n        }\n        listingData.category = categoryId;\n        let request = {};\n        request[ParamEnum.LISTING_ID] = listingId;\n        request[ParamEnum.CATEGORY_ID] = categoryId;\n        $.post(Routing.generate(\"app_listing_data\", request), function (response) {\n            listingData.$customFieldListWrapper.html(response[ParamEnum.CUSTOM_FIELD]);\n            listingData.$packageListWrapper.html(response[ParamEnum.PACKAGE_LIST]);\n            listingData.restoreUserEnteredValues();\n        });\n    }\n\n    /**\n     * prevent loss of user entered custom field values when changing categories\n     */\n    restoreUserEnteredValues() {\n        let $customFieldInputs = listingData.$customFieldListWrapper.find($('[name^=\"listing[customFieldList]\"]'));\n        $customFieldInputs.each(function () {\n            let $customFieldInput = $(this);\n            let previousValue = listingData.formValues[$customFieldInput.attr(\"name\")];\n            if (previousValue && previousValue.value.trim() !== \"\") {\n                $customFieldInput.val(previousValue.value);\n            }\n        });\n    }\n\n    getFormValues() {\n        let formValues = [];\n        listingData.$formCategory\n            .parents(\"form\")\n            .serializeArray()\n            .forEach(function (el) {\n                formValues[el.name] = el;\n            });\n\n        return formValues;\n    }\n\n    getCategoryFromSelect() {\n        return parseInt(listingData.$formCategory.val()) || null;\n    }\n}\n\nlet listingData = new ListingData();\nlet customFieldsCount = listingData.$customFieldListWrapper.find($(\".form-group\")).length;\nif (customFieldsCount < 1) {\n    listingData.loadFromBackend();\n}\n\nlistingData.$formCategory.on(\"change\", function () {\n    if (listingData.category === listingData.getCategoryFromSelect()) {\n        return;\n    }\n\n    listingData.formValues = $.extend({}, listingData.formValues, listingData.getFormValues());\n    listingData.loadFromBackend();\n});\n","\"use strict\";\n\nimport $ from \"jquery\";\nimport ParamEnum from \"~/enum/ParamEnum\";\nimport dataForJs from \"~/function/dataForJs\";\nimport Map from \"~/module/leaflet/map\";\nimport L from \"leaflet\";\n\nclass ListingEditMap {\n    /**\n     * @type {Map}\n     */\n    map = null;\n\n    /**\n     * @type {L.map}\n     */\n    leafletMap = null;\n    latLng = null;\n    currentLocationMarker = null;\n\n    init() {\n        let displayMapOnInit = document.querySelector(\".js__listingEditMapEnabled\");\n        if (displayMapOnInit) {\n            listingEditMap.displayMap();\n        }\n\n        $(\".js__addLocationToTheMapButton\").on(\"click\", function () {\n            listingEditMap.displayMap();\n        });\n    }\n\n    displayMap() {\n        $(\".js__listingEditLocationMap\").show();\n        $(\".js__addLocationToTheMapButton\").hide();\n\n        let mapElement = document.querySelector(\".js__listingEditLocationMap\");\n        listingEditMap.map = new Map();\n        listingEditMap.leafletMap = listingEditMap.map.createLeafletMap(mapElement);\n\n        listingEditMap.leafletMap.on(\"click\", listingEditMap.onMapClick);\n        listingEditMap.addMarkerWithCurrentLocation();\n    }\n\n    addMarkerWithCurrentLocation() {\n        if (!listingEditMap.haveLocationCoordinates()) {\n            return;\n        }\n\n        let latitude = dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LATITUDE];\n        let longitude = dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LONGITUDE];\n        listingEditMap.latLng = new L.LatLng(latitude, longitude);\n        listingEditMap.addMarker(listingEditMap.latLng);\n    }\n\n    onMapClick(event) {\n        listingEditMap.addMarker(event.latlng);\n        listingEditMap.updateFormWithLocationCoordinates(listingEditMap.latLng);\n    }\n\n    addMarker(latLng) {\n        if (listingEditMap.currentLocationMarker !== null) {\n            listingEditMap.leafletMap.removeLayer(listingEditMap.currentLocationMarker);\n            listingEditMap.currentLocationMarker = null;\n        }\n\n        // noinspection JSPotentiallyInvalidConstructorUsage\n        listingEditMap.currentLocationMarker = listingEditMap.map.addMarker(latLng);\n        listingEditMap.latLng = latLng;\n        listingEditMap.onMarkerClickRemoveMarker(listingEditMap.currentLocationMarker);\n    }\n\n    onMarkerClickRemoveMarker(marker) {\n        marker.on(\"click\", function () {\n            listingEditMap.leafletMap.removeLayer(marker);\n            listingEditMap.updateFormWithLocationCoordinates(null);\n        });\n    }\n\n    getMapDefaultLatLng() {\n        if (!listingEditMap.haveLocationCoordinates()) {\n            return new L.LatLng(dataForJs[ParamEnum.MAP_DEFAULT_LATITUDE], dataForJs[ParamEnum.MAP_DEFAULT_LONGITUDE]);\n        }\n\n        let latitude = dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LATITUDE];\n        let longitude = dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LONGITUDE];\n\n        return new L.LatLng(latitude, longitude);\n    }\n\n    haveLocationCoordinates() {\n        return (\n            dataForJs[ParamEnum.MAP_LOCATION_COORDINATES] &&\n            dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LONGITUDE] !== null &&\n            dataForJs[ParamEnum.MAP_LOCATION_COORDINATES][ParamEnum.LATITUDE] !== null\n        );\n    }\n\n    updateFormWithLocationCoordinates(latLng) {\n        let $formLatitude = $(\".js__locationLatitude\");\n        let $formLongitude = $(\".js__locationLongitude\");\n\n        if (latLng === null) {\n            $formLatitude.val(null);\n            $formLongitude.val(null);\n\n            return;\n        }\n\n        $formLatitude.val(latLng.lat);\n        $formLongitude.val(latLng.lng);\n    }\n}\n\nlet listingEditMap = new ListingEditMap();\n\nlistingEditMap.init();\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var global = require('../internals/global');\nvar trim = require('../internals/string-trim').trim;\nvar whitespaces = require('../internals/whitespaces');\n\nvar $parseFloat = global.parseFloat;\nvar FORCED = 1 / $parseFloat(whitespaces + '-0') !== -Infinity;\n\n// `parseFloat` method\n// https://tc39.es/ecma262/#sec-parsefloat-string\nmodule.exports = FORCED ? function parseFloat(string) {\n  var trimmedString = trim(String(string));\n  var result = $parseFloat(trimmedString);\n  return result === 0 && trimmedString.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var $ = require('../internals/export');\nvar parseFloatImplementation = require('../internals/number-parse-float');\n\n// `parseFloat` method\n// https://tc39.es/ecma262/#sec-parsefloat-string\n$({ global: true, forced: parseFloat != parseFloatImplementation }, {\n  parseFloat: parseFloatImplementation\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\n// eslint-disable-next-line es/no-string-prototype-startswith -- safe\nvar $startsWith = ''.startsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n"],"sourceRoot":""}